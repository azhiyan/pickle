#! ${buildout:directory}/bin/cupython

"""run this file using the following command
<path/to/uwsgi>/uwsgi --enable-threads --http 0.0.0.0:8080 -w WSGI:app &
"""

import sys
sys.path[0:0] = [
  '${buildout:directory}/src/core.db',
  '${buildout:directory}/src/core.mq',
  '${buildout:directory}/src/core.utils',
  '${buildout:directory}/src/core.events',
  '${buildout:directory}/src/core.logger',
  '${buildout:directory}/src/core.backend',
  '${buildout:directory}/src/core.scripts',
  '${buildout:directory}/src/core.constants',
  '${buildout:directory}/src/core.scheduler',
  '${buildout:directory}/src/core.webframework',
  '${buildout:directory}/eggs/setuptools_scm-2.0.0-py2.7.egg',
  '${buildout:directory}/eggs/pika-0.11.2-py2.7.egg',
  '${buildout:directory}/eggs/uWSGI-2.0.17-py2.7.egg',
  '${buildout:directory}/eggs/bottle-0.12.13-py2.7.egg',
  '${buildout:directory}/eggs/celery-4.1.0-py2.7.egg',
  '${buildout:directory}/eggs/kombu-4.1.0-py2.7.egg',
  '${buildout:directory}/eggs/PyMySQL-0.8.0-py2.7.egg',
  '${buildout:directory}/eggs/vcversioner-2.16.0.0-py2.7.egg',
  '${buildout:directory}/eggs/jsonschema-2.4.0-py2.7.egg',
  '${buildout:directory}/eggs/bottle_beaker-0.1.3-py2.7.egg',
  '${buildout:directory}/eggs/SQLAlchemy-1.2.6-py2.7-linux-armv7l.egg',
  '${buildout:directory}/eggs/simplejson-3.13.2-py2.7-linux-armv7l.egg',
  '${buildout:directory}/eggs/APScheduler-3.5.1-py2.7.egg',
  '${buildout:directory}/eggs/configparser-3.5.0-py2.7.egg',
  '${buildout:directory}/eggs/tzlocal-1.5.1-py2.7.egg',
  '${buildout:directory}/eggs/six-1.11.0-py2.7.egg',
  '${buildout:directory}/eggs/pytz-2018.4-py2.7.egg',
  '${buildout:directory}/eggs/futures-3.2.0-py2.7.egg',
  '${buildout:directory}/eggs/funcsigs-1.0.2-py2.7.egg',
  '${buildout:directory}/eggs/Beaker-1.9.1-py2.7.egg',
  '${buildout:directory}/eggs/amqp-2.2.2-py2.7.egg',
  '${buildout:directory}/eggs/billiard-3.5.0.3-py2.7-linux-armv7l.egg',
  '${buildout:directory}/eggs/vine-1.1.4-py2.7.egg',
  '/home/pi/b1/lib/python2.7/site-packages/setuptools-38.4.0-py2.7.egg',
]


from core.webframework.webcontroller import app

application = app.app

if __name__ == '__main__':
    app.run()
